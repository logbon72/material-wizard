/**
 * 
 * @version v0.0.2 - 2015-06-18 * @link 
 * @author Adel
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */!function(){"use strict";var a=angular.module("material.wizard",["ngMaterial","ngAnimate"]);a.directive("mtWizard",["$timeout","$document","stepsArray",function(a,b,c){return{scope:{btnBgColor:"@",activeBtnBgColor:"@",inactiveBtnBgColor:"@",btnProgressColor:"@",activeBtnProgressColor:"@",chevronsAlwaysVisible:"@",onFinish:"&"},restrict:"E",transclude:!0,controller:["$scope",function(a){function b(b,c){b.selected=c,a.curentStepTitle=c?b.title:"",b.wizardBtnStyle={"background-color":c?a.activeBtnBgColor:a.btnBgColor}}a.selectedIndex=0,a.curentStepTitle="";var d=a.steps=[];this.addStep=function(e){d.push(e),c.push(e),e.progresscircleStyle={"background-color":a.btnProgressColor},e.wizardBtnStyle={"background-color":a.btnBgColor},1==d.length&&b(e,!0)},a.next=function(){d[a.selectedIndex].onExit(),a["goto"](Math.min(a.selectedIndex+1,d.length-1))},a.previous=function(){a["goto"](Math.max(a.selectedIndex-1,0))},a["goto"]=function(c){b(d[a.selectedIndex],!1),a.selectedIndex=c,b(d[c],!0)}}],template:function(a,b){var c=b.chevronsAlwaysVisible?"ng-disabled":"ng-hide",d='<div layout="column" class="md-whiteframe-z1" layout-padding> <div layout="row" layout-sm="column" layout-align="space-between start" layout-margin>  <div><h3>{{curentStepTitle}}</h3></div>  <div layout="row" layout-align="end center" layout-margin>   <div ng-repeat="step in steps" layout="row" layout-align="center center" ng-click="goto($index)">    <md-button class="md-fab wizard-button" aria-label="step button">      <div class="circle-loader-wrap" ng-style="step.progresscircleStyle"><div class="circle-loader-wrap after" ng-style="step.wizardBtnStyle"></div></div>      <div class="wizard-step-img"><md-icon md-svg-src="{{step.stepImg}}" class="icon"></md-icon></div>      <md-progress-circular md-mode="determinate" md-diameter="63" value="{{step.stepFill}}"></md-progress-circular>    </md-button>    <md-progress-linear md-mode="determinate" value="0" md-mode="buffer" md-buffer-value="100" class="md-primary wizard-progress-linear" ng-show="$index<steps.length-1"></md-progress-linear>   </div>  </div> </div> <md-divider></md-divider> <div layout="row" class="wizard-container" ng-transclude></div> <div layout="row" layout-align="end center">  <md-button class="md-fab wizard-chevron-left" aria-label="previous" ng-click="previous()" '+c+'="selectedIndex == 0"></md-button>  <md-button class="md-fab {{ (selectedIndex == steps.length - (1)) ? \'wizard-finish\' : \'wizard-chevron-right\' }}" aria-label="finish" ng-click="(selectedIndex != steps.length - (1)) ? next(): onFinish()"></md-button> </div></div>';return d},link:function(c,d,e){var f=function(){var a=b[0].querySelectorAll("md-progress-linear .md-container");angular.forEach(a,function(a){angular.element(a).css("background-color",c.btnProgressColor)})};a(f,0)}}}]),a.directive("mtWzStep",function(){return{require:"^mtWizard",restrict:"E",transclude:!0,replace:!0,scope:{title:"@",stepImg:"@",stepFill:"@",onExit:"&"},template:'<div ng-show="selected"  ng-transclude layout-fill> </div>',link:function(a,b,c,d){a.stepFill=0,a.nextProgressValue=0,d.addStep(a)}}}),a.directive("stepFillPercent",["stepsArray",function(a){return{require:"?ngModel",restrict:"A",link:function(b,c,d,e,f){var g=!1;b.stepIndex=b.$eval(d.stepIndex),b.stepFillPercent=b.$eval(d.stepFillPercent),b.$watch(d.ngModel,function(){e.$valid?g||(a[b.stepIndex].stepFill=Math.min(parseInt(a[b.stepIndex].stepFill)+parseInt(b.stepFillPercent),100),g=!0):g&&(a[b.stepIndex].stepFill=Math.max(parseInt(a[b.stepIndex].stepFill)-parseInt(b.stepFillPercent),0),g=!1)})}}}]),a.value("stepsArray",[])}();